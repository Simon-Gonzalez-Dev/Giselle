/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/analyze-cv/route";
exports.ids = ["app/api/analyze-cv/route"];
exports.modules = {

/***/ "(rsc)/./app/api/analyze-cv/route.ts":
/*!*************************************!*\
  !*** ./app/api/analyze-cv/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _mistralai_mistralai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @mistralai/mistralai */ \"(rsc)/./node_modules/.pnpm/@mistralai+mistralai@1.7.2_zod@3.25.67/node_modules/@mistralai/mistralai/index.js\");\n/* harmony import */ var _mistralai_mistralai__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_mistralai_mistralai__WEBPACK_IMPORTED_MODULE_0__);\n/// <reference types=\"node\" />\n\n// CV Analysis API using Mistral AI\nconst SCORING_RUBRICS = {\n    \"Interpersonal Skills\": {\n        criteria: [\n            \"Communication\",\n            \"Leadership\",\n            \"Collaboration\"\n        ],\n        keywords: [\n            \"team\",\n            \"lead\",\n            \"manage\",\n            \"communicate\",\n            \"present\",\n            \"speak\",\n            \"write\",\n            \"collaborate\",\n            \"coordinate\",\n            \"mentor\",\n            \"train\",\n            \"facilitate\"\n        ],\n        weight: 1\n    },\n    \"Cognitive Abilities\": {\n        criteria: [\n            \"Analytical thinking\",\n            \"Creativity\",\n            \"Learning ability\"\n        ],\n        keywords: [\n            \"analyze\",\n            \"research\",\n            \"solve\",\n            \"create\",\n            \"innovate\",\n            \"learn\",\n            \"study\",\n            \"problem\",\n            \"strategy\",\n            \"optimize\",\n            \"design\",\n            \"develop\"\n        ],\n        weight: 1\n    },\n    \"Emotional Intelligence\": {\n        criteria: [\n            \"Self-awareness\",\n            \"Social awareness\",\n            \"Emotional regulation\"\n        ],\n        keywords: [\n            \"empathy\",\n            \"emotional\",\n            \"awareness\",\n            \"self\",\n            \"social\",\n            \"relationship\",\n            \"understanding\",\n            \"compassion\",\n            \"support\",\n            \"counsel\",\n            \"mediate\"\n        ],\n        weight: 1\n    },\n    \"Professional Qualities\": {\n        criteria: [\n            \"Work ethic\",\n            \"Adaptability\",\n            \"Entrepreneurial spirit\"\n        ],\n        keywords: [\n            \"dedicated\",\n            \"hardworking\",\n            \"adapt\",\n            \"flexible\",\n            \"entrepreneur\",\n            \"initiative\",\n            \"drive\",\n            \"motivated\",\n            \"reliable\",\n            \"punctual\",\n            \"organized\"\n        ],\n        weight: 1\n    },\n    \"Cultural Fit\": {\n        criteria: [\n            \"Team culture\",\n            \"Organizational values\",\n            \"Work style\"\n        ],\n        keywords: [\n            \"startup\",\n            \"fast-paced\",\n            \"growth\",\n            \"culture\",\n            \"values\",\n            \"team\",\n            \"collaborative\",\n            \"flexible\",\n            \"innovative\",\n            \"agile\",\n            \"dynamic\"\n        ],\n        weight: 1\n    },\n    \"Technical Aptitude\": {\n        criteria: [\n            \"Problem-solving\",\n            \"Learning capacity\",\n            \"Innovation\"\n        ],\n        keywords: [\n            \"technical\",\n            \"programming\",\n            \"software\",\n            \"technology\",\n            \"code\",\n            \"develop\",\n            \"build\",\n            \"create\",\n            \"innovate\",\n            \"debug\",\n            \"implement\"\n        ],\n        weight: 1\n    },\n    \"Life Experience\": {\n        criteria: [\n            \"Personal growth\",\n            \"Diversity exposure\",\n            \"Personal development\"\n        ],\n        keywords: [\n            \"volunteer\",\n            \"travel\",\n            \"diverse\",\n            \"culture\",\n            \"experience\",\n            \"growth\",\n            \"development\",\n            \"international\",\n            \"community\",\n            \"service\"\n        ],\n        weight: 1\n    }\n};\n// Initialize Mistral client\nlet mistralClient = null;\nfunction getMistralClient() {\n    if (!mistralClient) {\n        const apiKey = process.env.MISTRAL_API_KEY || process.env.MISTRAL_KEY;\n        if (!apiKey) {\n            throw new Error('Mistral API key not configured. Please set MISTRAL_API_KEY in your .env.local file');\n        }\n        console.log('ðŸ”‘ Initializing Mistral client with API key:', apiKey.substring(0, 10) + '...');\n        mistralClient = new _mistralai_mistralai__WEBPACK_IMPORTED_MODULE_0__.Mistral({\n            apiKey\n        });\n    }\n    return mistralClient;\n}\nasync function callMistralAPI(prompt, retries = 3) {\n    const client = getMistralClient();\n    for(let attempt = 1; attempt <= retries; attempt++){\n        try {\n            const chatResponse = await client.chat.complete({\n                model: 'open-mistral-7b',\n                messages: [\n                    {\n                        role: 'system',\n                        content: 'You are an expert HR professional and CV evaluator. Provide accurate, professional assessments based on the given criteria.'\n                    },\n                    {\n                        role: 'user',\n                        content: prompt\n                    }\n                ],\n                temperature: 0.3,\n                maxTokens: 2000\n            });\n            const content = chatResponse.choices[0].message.content;\n            if (!content) {\n                return '';\n            }\n            return typeof content === 'string' ? content : content[0]?.type === 'text' ? content[0].text : '';\n        } catch (error) {\n            console.error(`Mistral API attempt ${attempt} failed:`, error.message);\n            if (attempt === retries) {\n                throw error;\n            }\n            if (error.message?.includes('429') || error.message?.includes('rate limit')) {\n                const waitTime = Math.pow(2, attempt) * 1000;\n                console.log(`Rate limited, waiting ${waitTime}ms before retry...`);\n                await new Promise((resolve)=>setTimeout(resolve, waitTime));\n            } else if (error.message?.includes('401')) {\n                throw error;\n            } else {\n                await new Promise((resolve)=>setTimeout(resolve, 1000));\n            }\n        }\n    }\n    throw new Error('All retry attempts failed');\n}\nasync function extractCandidateInfo(fileContent) {\n    // Clean and stringify the CV content\n    const cleanContent = typeof fileContent === 'string' ? fileContent.trim().replace(/\\s+/g, ' ') : JSON.stringify(fileContent).trim();\n    const prompt = `Extract the following information from this CV/resume in JSON format:\n{\n  \"name\": \"Full name of the candidate\",\n  \"experience\": \"Most recent job title and company\",\n  \"education\": \"Highest degree and field of study\",\n  \"skills\": \"Key technical and professional skills (comma-separated)\",\n  \"activities\": [\"List of volunteer work, community involvement, or extracurricular activities\"],\n  \"yearsExperience\": \"Total years of professional experience (number)\"\n}\n\nCV Content:\n${cleanContent}\n\nReturn only the JSON object, no additional text.`;\n    const response = await callMistralAPI(prompt);\n    try {\n        const parsed = JSON.parse(response);\n        return {\n            name: parsed.name || \"Unknown Candidate\",\n            experience: parsed.experience || \"No experience listed\",\n            education: parsed.education || \"No education listed\",\n            skills: parsed.skills || \"No skills listed\",\n            activities: Array.isArray(parsed.activities) ? parsed.activities : [],\n            yearsExperience: parseInt(parsed.yearsExperience) || 0\n        };\n    } catch (error) {\n        throw new Error(`Failed to parse AI response for candidate info: ${error.message}`);\n    }\n}\nasync function analyzeMetric(metric, fileContent, candidateInfo) {\n    const rubric = SCORING_RUBRICS[metric];\n    // Clean and stringify the CV content\n    const cleanContent = typeof fileContent === 'string' ? fileContent.trim().replace(/\\s+/g, ' ') : JSON.stringify(fileContent).trim();\n    const prompt = `Analyze this candidate's ${metric} based on their CV and provide a score from 0-100.\n\nAssessment Criteria for ${metric}:\n${rubric.criteria.map((c)=>`- ${c}`).join('\\n')}\n\nRelevant Keywords: ${rubric.keywords.join(', ')}\n\nCV Content:\n${cleanContent}\n\nCandidate Background:\n- Experience: ${candidateInfo.experience}\n- Education: ${candidateInfo.education}\n- Skills: ${candidateInfo.skills}\n- Activities: ${candidateInfo.activities.join(', ')}\n\nProvide a detailed analysis and then give a score from 0-100. Format your response as:\nAnalysis: [Your detailed analysis]\nScore: [Number between 0-100]`;\n    const response = await callMistralAPI(prompt);\n    const scoreMatch = response.match(/Score:\\s*(\\d+)/i);\n    if (scoreMatch) {\n        return Math.max(0, Math.min(100, parseInt(scoreMatch[1])));\n    }\n    throw new Error(`Failed to extract score from AI response for ${metric}`);\n}\nasync function generateHRStyleAnalysis(scores, averageScore, candidateInfo) {\n    const topMetric = scores.reduce((max, current)=>current.score > max.score ? current : max);\n    const bottomMetric = scores.reduce((min, current)=>current.score < min.score ? current : min);\n    const prompt = `Write a professional HR-style analysis of this candidate based on their CV assessment.\n\nCandidate Profile:\n- Name: ${candidateInfo.name}\n- Experience: ${candidateInfo.experience}\n- Education: ${candidateInfo.education}\n- Skills: ${candidateInfo.skills}\n- Activities: ${candidateInfo.activities.join(', ')}\n\nAssessment Results:\n- Overall Average Score: ${averageScore}/100\n- Top Strength: ${topMetric.metric} (${topMetric.score}/100)\n- Development Area: ${bottomMetric.metric} (${bottomMetric.score}/100)\n\nIndividual Scores:\n${scores.map((s)=>`- ${s.metric}: ${s.score}/100`).join('\\n')}\n\nWrite a formal, professional analysis suitable for HR documentation. Include:\n1. Overall performance assessment\n2. Key strengths and their business value\n3. Areas for development\n4. Cultural fit considerations\n5. Final recommendation\n\nUse formal HR language and maintain a professional tone throughout.`;\n    return await callMistralAPI(prompt);\n}\nasync function analyzeCV(fileName, fileContent) {\n    try {\n        // Validate and clean file content\n        if (!fileContent || typeof fileContent !== 'string') {\n            throw new Error('Invalid file content provided');\n        }\n        // Clean the content by removing excessive whitespace and normalizing\n        const cleanContent = fileContent.trim().replace(/\\s+/g, ' ').replace(/\\n+/g, ' ').substring(0, 10000); // Limit content length to avoid API limits\n        if (cleanContent.length < 10) {\n            throw new Error('File content is too short to analyze');\n        }\n        console.log(`Analyzing CV: ${fileName} (${cleanContent.length} characters)`);\n        const candidateInfo = await extractCandidateInfo(cleanContent);\n        const scores = await Promise.all(Object.keys(SCORING_RUBRICS).map(async (metric)=>({\n                metric,\n                score: await analyzeMetric(metric, cleanContent, candidateInfo)\n            })));\n        const averageScore = Math.round(scores.reduce((sum, s)=>sum + s.score, 0) / scores.length);\n        const analysis = await generateHRStyleAnalysis(scores, averageScore, candidateInfo);\n        return {\n            id: Date.now(),\n            fileName: fileName.replace(/\\.[^/.]+$/, \"\"),\n            candidateName: candidateInfo.name,\n            uploadDate: new Date().toISOString(),\n            scores,\n            averageScore,\n            analysis,\n            profile: candidateInfo\n        };\n    } catch (error) {\n        console.error('CV Analysis failed:', error);\n        throw new Error('Failed to analyze CV. Please try again.');\n    }\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { fileName, fileContent } = body;\n        // Validate required fields\n        if (!fileName || !fileContent) {\n            return new Response(JSON.stringify({\n                error: 'File name and content are required',\n                received: {\n                    hasFileName: !!fileName,\n                    hasFileContent: !!fileContent,\n                    fileContentType: typeof fileContent\n                }\n            }), {\n                status: 400,\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            });\n        }\n        // Ensure fileContent is a string\n        if (typeof fileContent !== 'string') {\n            return new Response(JSON.stringify({\n                error: 'File content must be a string',\n                receivedType: typeof fileContent\n            }), {\n                status: 400,\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            });\n        }\n        console.log(`Processing CV analysis for: ${fileName}`);\n        const analysis = await analyzeCV(fileName, fileContent);\n        return new Response(JSON.stringify(analysis), {\n            status: 200,\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n    } catch (error) {\n        console.error('CV Analysis API error:', error);\n        return new Response(JSON.stringify({\n            error: 'Failed to analyze CV. Please try again.',\n            details: error.message\n        }), {\n            status: 500,\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FuYWx5emUtY3Yvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsOEJBQThCO0FBRWlCO0FBRS9DLG1DQUFtQztBQUNuQyxNQUFNQyxrQkFBa0I7SUFDdEIsd0JBQXdCO1FBQ3RCQyxVQUFVO1lBQUM7WUFBaUI7WUFBYztTQUFnQjtRQUMxREMsVUFBVTtZQUFDO1lBQVE7WUFBUTtZQUFVO1lBQWU7WUFBVztZQUFTO1lBQVM7WUFBZTtZQUFjO1lBQVU7WUFBUztTQUFhO1FBQzlJQyxRQUFRO0lBQ1Y7SUFDQSx1QkFBdUI7UUFDckJGLFVBQVU7WUFBQztZQUF1QjtZQUFjO1NBQW1CO1FBQ25FQyxVQUFVO1lBQUM7WUFBVztZQUFZO1lBQVM7WUFBVTtZQUFZO1lBQVM7WUFBUztZQUFXO1lBQVk7WUFBWTtZQUFVO1NBQVU7UUFDMUlDLFFBQVE7SUFDVjtJQUNBLDBCQUEwQjtRQUN4QkYsVUFBVTtZQUFDO1lBQWtCO1lBQW9CO1NBQXVCO1FBQ3hFQyxVQUFVO1lBQUM7WUFBVztZQUFhO1lBQWE7WUFBUTtZQUFVO1lBQWdCO1lBQWlCO1lBQWM7WUFBVztZQUFXO1NBQVU7UUFDakpDLFFBQVE7SUFDVjtJQUNBLDBCQUEwQjtRQUN4QkYsVUFBVTtZQUFDO1lBQWM7WUFBZ0I7U0FBeUI7UUFDbEVDLFVBQVU7WUFBQztZQUFhO1lBQWU7WUFBUztZQUFZO1lBQWdCO1lBQWM7WUFBUztZQUFhO1lBQVk7WUFBWTtTQUFZO1FBQ3BKQyxRQUFRO0lBQ1Y7SUFDQSxnQkFBZ0I7UUFDZEYsVUFBVTtZQUFDO1lBQWdCO1lBQXlCO1NBQWE7UUFDakVDLFVBQVU7WUFBQztZQUFXO1lBQWM7WUFBVTtZQUFXO1lBQVU7WUFBUTtZQUFpQjtZQUFZO1lBQWM7WUFBUztTQUFVO1FBQ3pJQyxRQUFRO0lBQ1Y7SUFDQSxzQkFBc0I7UUFDcEJGLFVBQVU7WUFBQztZQUFtQjtZQUFxQjtTQUFhO1FBQ2hFQyxVQUFVO1lBQUM7WUFBYTtZQUFlO1lBQVk7WUFBYztZQUFRO1lBQVc7WUFBUztZQUFVO1lBQVk7WUFBUztTQUFZO1FBQ3hJQyxRQUFRO0lBQ1Y7SUFDQSxtQkFBbUI7UUFDakJGLFVBQVU7WUFBQztZQUFtQjtZQUFzQjtTQUF1QjtRQUMzRUMsVUFBVTtZQUFDO1lBQWE7WUFBVTtZQUFXO1lBQVc7WUFBYztZQUFVO1lBQWU7WUFBaUI7WUFBYTtTQUFVO1FBQ3ZJQyxRQUFRO0lBQ1Y7QUFDRjtBQUVBLDRCQUE0QjtBQUM1QixJQUFJQyxnQkFBZ0M7QUFFcEMsU0FBU0M7SUFDUCxJQUFJLENBQUNELGVBQWU7UUFDbEIsTUFBTUUsU0FBU0MsUUFBUUMsR0FBRyxDQUFDQyxlQUFlLElBQUlGLFFBQVFDLEdBQUcsQ0FBQ0UsV0FBVztRQUNyRSxJQUFJLENBQUNKLFFBQVE7WUFDWCxNQUFNLElBQUlLLE1BQU07UUFDbEI7UUFDQUMsUUFBUUMsR0FBRyxDQUFDLGdEQUFnRFAsT0FBT1EsU0FBUyxDQUFDLEdBQUcsTUFBTTtRQUN0RlYsZ0JBQWdCLElBQUlMLHlEQUFPQSxDQUFDO1lBQUVPO1FBQU87SUFDdkM7SUFDQSxPQUFPRjtBQUNUO0FBRUEsZUFBZVcsZUFBZUMsTUFBYyxFQUFFQyxVQUFrQixDQUFDO0lBQy9ELE1BQU1DLFNBQVNiO0lBRWYsSUFBSyxJQUFJYyxVQUFVLEdBQUdBLFdBQVdGLFNBQVNFLFVBQVc7UUFDbkQsSUFBSTtZQUNGLE1BQU1DLGVBQWUsTUFBTUYsT0FBT0csSUFBSSxDQUFDQyxRQUFRLENBQUM7Z0JBQzlDQyxPQUFPO2dCQUNQQyxVQUFVO29CQUNSO3dCQUNFQyxNQUFNO3dCQUNOQyxTQUFTO29CQUNYO29CQUNBO3dCQUNFRCxNQUFNO3dCQUNOQyxTQUFTVjtvQkFDWDtpQkFDRDtnQkFDRFcsYUFBYTtnQkFDYkMsV0FBVztZQUNiO1lBRUEsTUFBTUYsVUFBVU4sYUFBYVMsT0FBTyxDQUFDLEVBQUUsQ0FBQ0MsT0FBTyxDQUFDSixPQUFPO1lBQ3ZELElBQUksQ0FBQ0EsU0FBUztnQkFDWixPQUFPO1lBQ1Q7WUFDQSxPQUFPLE9BQU9BLFlBQVksV0FBV0EsVUFBVUEsT0FBTyxDQUFDLEVBQUUsRUFBRUssU0FBUyxTQUFTTCxPQUFPLENBQUMsRUFBRSxDQUFDTSxJQUFJLEdBQUc7UUFDakcsRUFBRSxPQUFPQyxPQUFZO1lBQ25CckIsUUFBUXFCLEtBQUssQ0FBQyxDQUFDLG9CQUFvQixFQUFFZCxRQUFRLFFBQVEsQ0FBQyxFQUFFYyxNQUFNSCxPQUFPO1lBRXJFLElBQUlYLFlBQVlGLFNBQVM7Z0JBQ3ZCLE1BQU1nQjtZQUNSO1lBRUEsSUFBSUEsTUFBTUgsT0FBTyxFQUFFSSxTQUFTLFVBQVVELE1BQU1ILE9BQU8sRUFBRUksU0FBUyxlQUFlO2dCQUMzRSxNQUFNQyxXQUFXQyxLQUFLQyxHQUFHLENBQUMsR0FBR2xCLFdBQVc7Z0JBQ3hDUCxRQUFRQyxHQUFHLENBQUMsQ0FBQyxzQkFBc0IsRUFBRXNCLFNBQVMsa0JBQWtCLENBQUM7Z0JBQ2pFLE1BQU0sSUFBSUcsUUFBUUMsQ0FBQUEsVUFBV0MsV0FBV0QsU0FBU0o7WUFDbkQsT0FBTyxJQUFJRixNQUFNSCxPQUFPLEVBQUVJLFNBQVMsUUFBUTtnQkFDekMsTUFBTUQ7WUFDUixPQUFPO2dCQUNMLE1BQU0sSUFBSUssUUFBUUMsQ0FBQUEsVUFBV0MsV0FBV0QsU0FBUztZQUNuRDtRQUNGO0lBQ0Y7SUFFQSxNQUFNLElBQUk1QixNQUFNO0FBQ2xCO0FBRUEsZUFBZThCLHFCQUFxQkMsV0FBbUI7SUFDckQscUNBQXFDO0lBQ3JDLE1BQU1DLGVBQWUsT0FBT0QsZ0JBQWdCLFdBQ3hDQSxZQUFZRSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxRQUFRLE9BQ25DQyxLQUFLQyxTQUFTLENBQUNMLGFBQWFFLElBQUk7SUFFcEMsTUFBTTVCLFNBQVMsQ0FBQzs7Ozs7Ozs7Ozs7QUFXbEIsRUFBRTJCLGFBQWE7O2dEQUVpQyxDQUFDO0lBRS9DLE1BQU1LLFdBQVcsTUFBTWpDLGVBQWVDO0lBRXRDLElBQUk7UUFDRixNQUFNaUMsU0FBU0gsS0FBS0ksS0FBSyxDQUFDRjtRQUMxQixPQUFPO1lBQ0xHLE1BQU1GLE9BQU9FLElBQUksSUFBSTtZQUNyQkMsWUFBWUgsT0FBT0csVUFBVSxJQUFJO1lBQ2pDQyxXQUFXSixPQUFPSSxTQUFTLElBQUk7WUFDL0JDLFFBQVFMLE9BQU9LLE1BQU0sSUFBSTtZQUN6QkMsWUFBWUMsTUFBTUMsT0FBTyxDQUFDUixPQUFPTSxVQUFVLElBQUlOLE9BQU9NLFVBQVUsR0FBRyxFQUFFO1lBQ3JFRyxpQkFBaUJDLFNBQVNWLE9BQU9TLGVBQWUsS0FBSztRQUN2RDtJQUNGLEVBQUUsT0FBT3pCLE9BQVk7UUFDbkIsTUFBTSxJQUFJdEIsTUFBTSxDQUFDLGdEQUFnRCxFQUFFc0IsTUFBTUgsT0FBTyxFQUFFO0lBQ3BGO0FBQ0Y7QUFFQSxlQUFlOEIsY0FBY0MsTUFBYyxFQUFFbkIsV0FBbUIsRUFBRW9CLGFBQWtCO0lBQ2xGLE1BQU1DLFNBQVMvRCxlQUFlLENBQUM2RCxPQUF1QztJQUV0RSxxQ0FBcUM7SUFDckMsTUFBTWxCLGVBQWUsT0FBT0QsZ0JBQWdCLFdBQ3hDQSxZQUFZRSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxRQUFRLE9BQ25DQyxLQUFLQyxTQUFTLENBQUNMLGFBQWFFLElBQUk7SUFFcEMsTUFBTTVCLFNBQVMsQ0FBQyx5QkFBeUIsRUFBRTZDLE9BQU87O3dCQUU1QixFQUFFQSxPQUFPO0FBQ2pDLEVBQUVFLE9BQU85RCxRQUFRLENBQUMrRCxHQUFHLENBQUNDLENBQUFBLElBQUssQ0FBQyxFQUFFLEVBQUVBLEdBQUcsRUFBRUMsSUFBSSxDQUFDLE1BQU07O21CQUU3QixFQUFFSCxPQUFPN0QsUUFBUSxDQUFDZ0UsSUFBSSxDQUFDLE1BQU07OztBQUdoRCxFQUFFdkIsYUFBYTs7O2NBR0QsRUFBRW1CLGNBQWNWLFVBQVUsQ0FBQzthQUM1QixFQUFFVSxjQUFjVCxTQUFTLENBQUM7VUFDN0IsRUFBRVMsY0FBY1IsTUFBTSxDQUFDO2NBQ25CLEVBQUVRLGNBQWNQLFVBQVUsQ0FBQ1csSUFBSSxDQUFDLE1BQU07Ozs7NkJBSXZCLENBQUM7SUFFNUIsTUFBTWxCLFdBQVcsTUFBTWpDLGVBQWVDO0lBRXRDLE1BQU1tRCxhQUFhbkIsU0FBU29CLEtBQUssQ0FBQztJQUNsQyxJQUFJRCxZQUFZO1FBQ2QsT0FBTy9CLEtBQUtpQyxHQUFHLENBQUMsR0FBR2pDLEtBQUtrQyxHQUFHLENBQUMsS0FBS1gsU0FBU1EsVUFBVSxDQUFDLEVBQUU7SUFDekQ7SUFFQSxNQUFNLElBQUl4RCxNQUFNLENBQUMsNkNBQTZDLEVBQUVrRCxRQUFRO0FBQzFFO0FBRUEsZUFBZVUsd0JBQXdCQyxNQUFnRCxFQUFFQyxZQUFvQixFQUFFWCxhQUFrQjtJQUMvSCxNQUFNWSxZQUFZRixPQUFPRyxNQUFNLENBQUMsQ0FBQ04sS0FBS08sVUFBYUEsUUFBUUMsS0FBSyxHQUFHUixJQUFJUSxLQUFLLEdBQUdELFVBQVVQO0lBQ3pGLE1BQU1TLGVBQWVOLE9BQU9HLE1BQU0sQ0FBQyxDQUFDTCxLQUFLTSxVQUFhQSxRQUFRQyxLQUFLLEdBQUdQLElBQUlPLEtBQUssR0FBR0QsVUFBVU47SUFFNUYsTUFBTXRELFNBQVMsQ0FBQzs7O1FBR1YsRUFBRThDLGNBQWNYLElBQUksQ0FBQztjQUNmLEVBQUVXLGNBQWNWLFVBQVUsQ0FBQzthQUM1QixFQUFFVSxjQUFjVCxTQUFTLENBQUM7VUFDN0IsRUFBRVMsY0FBY1IsTUFBTSxDQUFDO2NBQ25CLEVBQUVRLGNBQWNQLFVBQVUsQ0FBQ1csSUFBSSxDQUFDLE1BQU07Ozt5QkFHM0IsRUFBRU8sYUFBYTtnQkFDeEIsRUFBRUMsVUFBVWIsTUFBTSxDQUFDLEVBQUUsRUFBRWEsVUFBVUcsS0FBSyxDQUFDO29CQUNuQyxFQUFFQyxhQUFhakIsTUFBTSxDQUFDLEVBQUUsRUFBRWlCLGFBQWFELEtBQUssQ0FBQzs7O0FBR2pFLEVBQUVMLE9BQU9SLEdBQUcsQ0FBQ2UsQ0FBQUEsSUFBSyxDQUFDLEVBQUUsRUFBRUEsRUFBRWxCLE1BQU0sQ0FBQyxFQUFFLEVBQUVrQixFQUFFRixLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUVYLElBQUksQ0FBQyxNQUFNOzs7Ozs7Ozs7bUVBU0ssQ0FBQztJQUVsRSxPQUFPLE1BQU1uRCxlQUFlQztBQUM5QjtBQUVBLGVBQWVnRSxVQUFVQyxRQUFnQixFQUFFdkMsV0FBbUI7SUFDNUQsSUFBSTtRQUNGLGtDQUFrQztRQUNsQyxJQUFJLENBQUNBLGVBQWUsT0FBT0EsZ0JBQWdCLFVBQVU7WUFDbkQsTUFBTSxJQUFJL0IsTUFBTTtRQUNsQjtRQUVBLHFFQUFxRTtRQUNyRSxNQUFNZ0MsZUFBZUQsWUFDbEJFLElBQUksR0FDSkMsT0FBTyxDQUFDLFFBQVEsS0FDaEJBLE9BQU8sQ0FBQyxRQUFRLEtBQ2hCL0IsU0FBUyxDQUFDLEdBQUcsUUFBUSwyQ0FBMkM7UUFFbkUsSUFBSTZCLGFBQWF1QyxNQUFNLEdBQUcsSUFBSTtZQUM1QixNQUFNLElBQUl2RSxNQUFNO1FBQ2xCO1FBRUFDLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGNBQWMsRUFBRW9FLFNBQVMsRUFBRSxFQUFFdEMsYUFBYXVDLE1BQU0sQ0FBQyxZQUFZLENBQUM7UUFFM0UsTUFBTXBCLGdCQUFnQixNQUFNckIscUJBQXFCRTtRQUVqRCxNQUFNNkIsU0FBUyxNQUFNbEMsUUFBUTZDLEdBQUcsQ0FDOUJDLE9BQU9DLElBQUksQ0FBQ3JGLGlCQUFpQmdFLEdBQUcsQ0FBQyxPQUFPSCxTQUFZO2dCQUNsREE7Z0JBQ0FnQixPQUFPLE1BQU1qQixjQUFjQyxRQUFRbEIsY0FBY21CO1lBQ25EO1FBR0YsTUFBTVcsZUFBZXJDLEtBQUtrRCxLQUFLLENBQUNkLE9BQU9HLE1BQU0sQ0FBQyxDQUFDWSxLQUFLUixJQUFNUSxNQUFNUixFQUFFRixLQUFLLEVBQUUsS0FBS0wsT0FBT1UsTUFBTTtRQUUzRixNQUFNTSxXQUFXLE1BQU1qQix3QkFBd0JDLFFBQVFDLGNBQWNYO1FBRXJFLE9BQU87WUFDTDJCLElBQUlDLEtBQUtDLEdBQUc7WUFDWlYsVUFBVUEsU0FBU3BDLE9BQU8sQ0FBQyxhQUFhO1lBQ3hDK0MsZUFBZTlCLGNBQWNYLElBQUk7WUFDakMwQyxZQUFZLElBQUlILE9BQU9JLFdBQVc7WUFDbEN0QjtZQUNBQztZQUNBZTtZQUNBTyxTQUFTakM7UUFDWDtJQUNGLEVBQUUsT0FBTzdCLE9BQU87UUFDZHJCLFFBQVFxQixLQUFLLENBQUMsdUJBQXVCQTtRQUNyQyxNQUFNLElBQUl0QixNQUFNO0lBQ2xCO0FBQ0Y7QUFFTyxlQUFlcUYsS0FBS0MsT0FBZ0I7SUFDekMsSUFBSTtRQUNGLE1BQU1DLE9BQU8sTUFBTUQsUUFBUUUsSUFBSTtRQUMvQixNQUFNLEVBQUVsQixRQUFRLEVBQUV2QyxXQUFXLEVBQUUsR0FBR3dEO1FBRWxDLDJCQUEyQjtRQUMzQixJQUFJLENBQUNqQixZQUFZLENBQUN2QyxhQUFhO1lBQzdCLE9BQU8sSUFBSTBELFNBQ1R0RCxLQUFLQyxTQUFTLENBQUM7Z0JBQ2JkLE9BQU87Z0JBQ1BvRSxVQUFVO29CQUNSQyxhQUFhLENBQUMsQ0FBQ3JCO29CQUNmc0IsZ0JBQWdCLENBQUMsQ0FBQzdEO29CQUNsQjhELGlCQUFpQixPQUFPOUQ7Z0JBQzFCO1lBQ0YsSUFDQTtnQkFDRStELFFBQVE7Z0JBQ1JDLFNBQVM7b0JBQUUsZ0JBQWdCO2dCQUFtQjtZQUNoRDtRQUVKO1FBRUEsaUNBQWlDO1FBQ2pDLElBQUksT0FBT2hFLGdCQUFnQixVQUFVO1lBQ25DLE9BQU8sSUFBSTBELFNBQ1R0RCxLQUFLQyxTQUFTLENBQUM7Z0JBQ2JkLE9BQU87Z0JBQ1AwRSxjQUFjLE9BQU9qRTtZQUN2QixJQUNBO2dCQUNFK0QsUUFBUTtnQkFDUkMsU0FBUztvQkFBRSxnQkFBZ0I7Z0JBQW1CO1lBQ2hEO1FBRUo7UUFFQTlGLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLDRCQUE0QixFQUFFb0UsVUFBVTtRQUNyRCxNQUFNTyxXQUFXLE1BQU1SLFVBQVVDLFVBQVV2QztRQUUzQyxPQUFPLElBQUkwRCxTQUNUdEQsS0FBS0MsU0FBUyxDQUFDeUMsV0FDZjtZQUNFaUIsUUFBUTtZQUNSQyxTQUFTO2dCQUFFLGdCQUFnQjtZQUFtQjtRQUNoRDtJQUVKLEVBQUUsT0FBT3pFLE9BQVk7UUFDbkJyQixRQUFRcUIsS0FBSyxDQUFDLDBCQUEwQkE7UUFDeEMsT0FBTyxJQUFJbUUsU0FDVHRELEtBQUtDLFNBQVMsQ0FBQztZQUNiZCxPQUFPO1lBQ1AyRSxTQUFTM0UsTUFBTUgsT0FBTztRQUN4QixJQUNBO1lBQ0UyRSxRQUFRO1lBQ1JDLFNBQVM7Z0JBQUUsZ0JBQWdCO1lBQW1CO1FBQ2hEO0lBRUo7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL3NpbW9uZ29uemFsZXovQ3Vyc29yX3Byb2plY3RzL2dpc2VsbGUvR2lzZWxsZS9hcHAvYXBpL2FuYWx5emUtY3Yvcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgdHlwZXM9XCJub2RlXCIgLz5cblxuaW1wb3J0IHsgTWlzdHJhbCB9IGZyb20gJ0BtaXN0cmFsYWkvbWlzdHJhbGFpJztcblxuLy8gQ1YgQW5hbHlzaXMgQVBJIHVzaW5nIE1pc3RyYWwgQUlcbmNvbnN0IFNDT1JJTkdfUlVCUklDUyA9IHtcbiAgXCJJbnRlcnBlcnNvbmFsIFNraWxsc1wiOiB7XG4gICAgY3JpdGVyaWE6IFtcIkNvbW11bmljYXRpb25cIiwgXCJMZWFkZXJzaGlwXCIsIFwiQ29sbGFib3JhdGlvblwiXSxcbiAgICBrZXl3b3JkczogW1widGVhbVwiLCBcImxlYWRcIiwgXCJtYW5hZ2VcIiwgXCJjb21tdW5pY2F0ZVwiLCBcInByZXNlbnRcIiwgXCJzcGVha1wiLCBcIndyaXRlXCIsIFwiY29sbGFib3JhdGVcIiwgXCJjb29yZGluYXRlXCIsIFwibWVudG9yXCIsIFwidHJhaW5cIiwgXCJmYWNpbGl0YXRlXCJdLFxuICAgIHdlaWdodDogMVxuICB9LFxuICBcIkNvZ25pdGl2ZSBBYmlsaXRpZXNcIjoge1xuICAgIGNyaXRlcmlhOiBbXCJBbmFseXRpY2FsIHRoaW5raW5nXCIsIFwiQ3JlYXRpdml0eVwiLCBcIkxlYXJuaW5nIGFiaWxpdHlcIl0sXG4gICAga2V5d29yZHM6IFtcImFuYWx5emVcIiwgXCJyZXNlYXJjaFwiLCBcInNvbHZlXCIsIFwiY3JlYXRlXCIsIFwiaW5ub3ZhdGVcIiwgXCJsZWFyblwiLCBcInN0dWR5XCIsIFwicHJvYmxlbVwiLCBcInN0cmF0ZWd5XCIsIFwib3B0aW1pemVcIiwgXCJkZXNpZ25cIiwgXCJkZXZlbG9wXCJdLFxuICAgIHdlaWdodDogMVxuICB9LFxuICBcIkVtb3Rpb25hbCBJbnRlbGxpZ2VuY2VcIjoge1xuICAgIGNyaXRlcmlhOiBbXCJTZWxmLWF3YXJlbmVzc1wiLCBcIlNvY2lhbCBhd2FyZW5lc3NcIiwgXCJFbW90aW9uYWwgcmVndWxhdGlvblwiXSxcbiAgICBrZXl3b3JkczogW1wiZW1wYXRoeVwiLCBcImVtb3Rpb25hbFwiLCBcImF3YXJlbmVzc1wiLCBcInNlbGZcIiwgXCJzb2NpYWxcIiwgXCJyZWxhdGlvbnNoaXBcIiwgXCJ1bmRlcnN0YW5kaW5nXCIsIFwiY29tcGFzc2lvblwiLCBcInN1cHBvcnRcIiwgXCJjb3Vuc2VsXCIsIFwibWVkaWF0ZVwiXSxcbiAgICB3ZWlnaHQ6IDFcbiAgfSxcbiAgXCJQcm9mZXNzaW9uYWwgUXVhbGl0aWVzXCI6IHtcbiAgICBjcml0ZXJpYTogW1wiV29yayBldGhpY1wiLCBcIkFkYXB0YWJpbGl0eVwiLCBcIkVudHJlcHJlbmV1cmlhbCBzcGlyaXRcIl0sXG4gICAga2V5d29yZHM6IFtcImRlZGljYXRlZFwiLCBcImhhcmR3b3JraW5nXCIsIFwiYWRhcHRcIiwgXCJmbGV4aWJsZVwiLCBcImVudHJlcHJlbmV1clwiLCBcImluaXRpYXRpdmVcIiwgXCJkcml2ZVwiLCBcIm1vdGl2YXRlZFwiLCBcInJlbGlhYmxlXCIsIFwicHVuY3R1YWxcIiwgXCJvcmdhbml6ZWRcIl0sXG4gICAgd2VpZ2h0OiAxXG4gIH0sXG4gIFwiQ3VsdHVyYWwgRml0XCI6IHtcbiAgICBjcml0ZXJpYTogW1wiVGVhbSBjdWx0dXJlXCIsIFwiT3JnYW5pemF0aW9uYWwgdmFsdWVzXCIsIFwiV29yayBzdHlsZVwiXSxcbiAgICBrZXl3b3JkczogW1wic3RhcnR1cFwiLCBcImZhc3QtcGFjZWRcIiwgXCJncm93dGhcIiwgXCJjdWx0dXJlXCIsIFwidmFsdWVzXCIsIFwidGVhbVwiLCBcImNvbGxhYm9yYXRpdmVcIiwgXCJmbGV4aWJsZVwiLCBcImlubm92YXRpdmVcIiwgXCJhZ2lsZVwiLCBcImR5bmFtaWNcIl0sXG4gICAgd2VpZ2h0OiAxXG4gIH0sXG4gIFwiVGVjaG5pY2FsIEFwdGl0dWRlXCI6IHtcbiAgICBjcml0ZXJpYTogW1wiUHJvYmxlbS1zb2x2aW5nXCIsIFwiTGVhcm5pbmcgY2FwYWNpdHlcIiwgXCJJbm5vdmF0aW9uXCJdLFxuICAgIGtleXdvcmRzOiBbXCJ0ZWNobmljYWxcIiwgXCJwcm9ncmFtbWluZ1wiLCBcInNvZnR3YXJlXCIsIFwidGVjaG5vbG9neVwiLCBcImNvZGVcIiwgXCJkZXZlbG9wXCIsIFwiYnVpbGRcIiwgXCJjcmVhdGVcIiwgXCJpbm5vdmF0ZVwiLCBcImRlYnVnXCIsIFwiaW1wbGVtZW50XCJdLFxuICAgIHdlaWdodDogMVxuICB9LFxuICBcIkxpZmUgRXhwZXJpZW5jZVwiOiB7XG4gICAgY3JpdGVyaWE6IFtcIlBlcnNvbmFsIGdyb3d0aFwiLCBcIkRpdmVyc2l0eSBleHBvc3VyZVwiLCBcIlBlcnNvbmFsIGRldmVsb3BtZW50XCJdLFxuICAgIGtleXdvcmRzOiBbXCJ2b2x1bnRlZXJcIiwgXCJ0cmF2ZWxcIiwgXCJkaXZlcnNlXCIsIFwiY3VsdHVyZVwiLCBcImV4cGVyaWVuY2VcIiwgXCJncm93dGhcIiwgXCJkZXZlbG9wbWVudFwiLCBcImludGVybmF0aW9uYWxcIiwgXCJjb21tdW5pdHlcIiwgXCJzZXJ2aWNlXCJdLFxuICAgIHdlaWdodDogMVxuICB9XG59XG5cbi8vIEluaXRpYWxpemUgTWlzdHJhbCBjbGllbnRcbmxldCBtaXN0cmFsQ2xpZW50OiBNaXN0cmFsIHwgbnVsbCA9IG51bGw7XG5cbmZ1bmN0aW9uIGdldE1pc3RyYWxDbGllbnQoKTogTWlzdHJhbCB7XG4gIGlmICghbWlzdHJhbENsaWVudCkge1xuICAgIGNvbnN0IGFwaUtleSA9IHByb2Nlc3MuZW52Lk1JU1RSQUxfQVBJX0tFWSB8fCBwcm9jZXNzLmVudi5NSVNUUkFMX0tFWTtcbiAgICBpZiAoIWFwaUtleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXN0cmFsIEFQSSBrZXkgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBzZXQgTUlTVFJBTF9BUElfS0VZIGluIHlvdXIgLmVudi5sb2NhbCBmaWxlJyk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCfwn5SRIEluaXRpYWxpemluZyBNaXN0cmFsIGNsaWVudCB3aXRoIEFQSSBrZXk6JywgYXBpS2V5LnN1YnN0cmluZygwLCAxMCkgKyAnLi4uJyk7XG4gICAgbWlzdHJhbENsaWVudCA9IG5ldyBNaXN0cmFsKHsgYXBpS2V5IH0pO1xuICB9XG4gIHJldHVybiBtaXN0cmFsQ2xpZW50O1xufVxuXG5hc3luYyBmdW5jdGlvbiBjYWxsTWlzdHJhbEFQSShwcm9tcHQ6IHN0cmluZywgcmV0cmllczogbnVtYmVyID0gMyk6IFByb21pc2U8c3RyaW5nPiB7XG4gIGNvbnN0IGNsaWVudCA9IGdldE1pc3RyYWxDbGllbnQoKTtcbiAgXG4gIGZvciAobGV0IGF0dGVtcHQgPSAxOyBhdHRlbXB0IDw9IHJldHJpZXM7IGF0dGVtcHQrKykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjaGF0UmVzcG9uc2UgPSBhd2FpdCBjbGllbnQuY2hhdC5jb21wbGV0ZSh7XG4gICAgICAgIG1vZGVsOiAnb3Blbi1taXN0cmFsLTdiJyxcbiAgICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICByb2xlOiAnc3lzdGVtJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdZb3UgYXJlIGFuIGV4cGVydCBIUiBwcm9mZXNzaW9uYWwgYW5kIENWIGV2YWx1YXRvci4gUHJvdmlkZSBhY2N1cmF0ZSwgcHJvZmVzc2lvbmFsIGFzc2Vzc21lbnRzIGJhc2VkIG9uIHRoZSBnaXZlbiBjcml0ZXJpYS4nXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICBjb250ZW50OiBwcm9tcHRcbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHRlbXBlcmF0dXJlOiAwLjMsXG4gICAgICAgIG1heFRva2VuczogMjAwMFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBjaGF0UmVzcG9uc2UuY2hvaWNlc1swXS5tZXNzYWdlLmNvbnRlbnQ7XG4gICAgICBpZiAoIWNvbnRlbnQpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJyA/IGNvbnRlbnQgOiBjb250ZW50WzBdPy50eXBlID09PSAndGV4dCcgPyBjb250ZW50WzBdLnRleHQgOiAnJztcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBNaXN0cmFsIEFQSSBhdHRlbXB0ICR7YXR0ZW1wdH0gZmFpbGVkOmAsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgXG4gICAgICBpZiAoYXR0ZW1wdCA9PT0gcmV0cmllcykge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKGVycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCc0MjknKSB8fCBlcnJvci5tZXNzYWdlPy5pbmNsdWRlcygncmF0ZSBsaW1pdCcpKSB7XG4gICAgICAgIGNvbnN0IHdhaXRUaW1lID0gTWF0aC5wb3coMiwgYXR0ZW1wdCkgKiAxMDAwO1xuICAgICAgICBjb25zb2xlLmxvZyhgUmF0ZSBsaW1pdGVkLCB3YWl0aW5nICR7d2FpdFRpbWV9bXMgYmVmb3JlIHJldHJ5Li4uYCk7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCB3YWl0VGltZSkpO1xuICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlPy5pbmNsdWRlcygnNDAxJykpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgdGhyb3cgbmV3IEVycm9yKCdBbGwgcmV0cnkgYXR0ZW1wdHMgZmFpbGVkJyk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGV4dHJhY3RDYW5kaWRhdGVJbmZvKGZpbGVDb250ZW50OiBzdHJpbmcpIHtcbiAgLy8gQ2xlYW4gYW5kIHN0cmluZ2lmeSB0aGUgQ1YgY29udGVudFxuICBjb25zdCBjbGVhbkNvbnRlbnQgPSB0eXBlb2YgZmlsZUNvbnRlbnQgPT09ICdzdHJpbmcnIFxuICAgID8gZmlsZUNvbnRlbnQudHJpbSgpLnJlcGxhY2UoL1xccysvZywgJyAnKVxuICAgIDogSlNPTi5zdHJpbmdpZnkoZmlsZUNvbnRlbnQpLnRyaW0oKTtcblxuICBjb25zdCBwcm9tcHQgPSBgRXh0cmFjdCB0aGUgZm9sbG93aW5nIGluZm9ybWF0aW9uIGZyb20gdGhpcyBDVi9yZXN1bWUgaW4gSlNPTiBmb3JtYXQ6XG57XG4gIFwibmFtZVwiOiBcIkZ1bGwgbmFtZSBvZiB0aGUgY2FuZGlkYXRlXCIsXG4gIFwiZXhwZXJpZW5jZVwiOiBcIk1vc3QgcmVjZW50IGpvYiB0aXRsZSBhbmQgY29tcGFueVwiLFxuICBcImVkdWNhdGlvblwiOiBcIkhpZ2hlc3QgZGVncmVlIGFuZCBmaWVsZCBvZiBzdHVkeVwiLFxuICBcInNraWxsc1wiOiBcIktleSB0ZWNobmljYWwgYW5kIHByb2Zlc3Npb25hbCBza2lsbHMgKGNvbW1hLXNlcGFyYXRlZClcIixcbiAgXCJhY3Rpdml0aWVzXCI6IFtcIkxpc3Qgb2Ygdm9sdW50ZWVyIHdvcmssIGNvbW11bml0eSBpbnZvbHZlbWVudCwgb3IgZXh0cmFjdXJyaWN1bGFyIGFjdGl2aXRpZXNcIl0sXG4gIFwieWVhcnNFeHBlcmllbmNlXCI6IFwiVG90YWwgeWVhcnMgb2YgcHJvZmVzc2lvbmFsIGV4cGVyaWVuY2UgKG51bWJlcilcIlxufVxuXG5DViBDb250ZW50OlxuJHtjbGVhbkNvbnRlbnR9XG5cblJldHVybiBvbmx5IHRoZSBKU09OIG9iamVjdCwgbm8gYWRkaXRpb25hbCB0ZXh0LmBcblxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNhbGxNaXN0cmFsQVBJKHByb21wdCk7XG4gIFxuICB0cnkge1xuICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBwYXJzZWQubmFtZSB8fCBcIlVua25vd24gQ2FuZGlkYXRlXCIsXG4gICAgICBleHBlcmllbmNlOiBwYXJzZWQuZXhwZXJpZW5jZSB8fCBcIk5vIGV4cGVyaWVuY2UgbGlzdGVkXCIsXG4gICAgICBlZHVjYXRpb246IHBhcnNlZC5lZHVjYXRpb24gfHwgXCJObyBlZHVjYXRpb24gbGlzdGVkXCIsXG4gICAgICBza2lsbHM6IHBhcnNlZC5za2lsbHMgfHwgXCJObyBza2lsbHMgbGlzdGVkXCIsXG4gICAgICBhY3Rpdml0aWVzOiBBcnJheS5pc0FycmF5KHBhcnNlZC5hY3Rpdml0aWVzKSA/IHBhcnNlZC5hY3Rpdml0aWVzIDogW10sXG4gICAgICB5ZWFyc0V4cGVyaWVuY2U6IHBhcnNlSW50KHBhcnNlZC55ZWFyc0V4cGVyaWVuY2UpIHx8IDBcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBwYXJzZSBBSSByZXNwb25zZSBmb3IgY2FuZGlkYXRlIGluZm86ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBhbmFseXplTWV0cmljKG1ldHJpYzogc3RyaW5nLCBmaWxlQ29udGVudDogc3RyaW5nLCBjYW5kaWRhdGVJbmZvOiBhbnkpOiBQcm9taXNlPG51bWJlcj4ge1xuICBjb25zdCBydWJyaWMgPSBTQ09SSU5HX1JVQlJJQ1NbbWV0cmljIGFzIGtleW9mIHR5cGVvZiBTQ09SSU5HX1JVQlJJQ1NdXG4gIFxuICAvLyBDbGVhbiBhbmQgc3RyaW5naWZ5IHRoZSBDViBjb250ZW50XG4gIGNvbnN0IGNsZWFuQ29udGVudCA9IHR5cGVvZiBmaWxlQ29udGVudCA9PT0gJ3N0cmluZycgXG4gICAgPyBmaWxlQ29udGVudC50cmltKCkucmVwbGFjZSgvXFxzKy9nLCAnICcpXG4gICAgOiBKU09OLnN0cmluZ2lmeShmaWxlQ29udGVudCkudHJpbSgpO1xuICBcbiAgY29uc3QgcHJvbXB0ID0gYEFuYWx5emUgdGhpcyBjYW5kaWRhdGUncyAke21ldHJpY30gYmFzZWQgb24gdGhlaXIgQ1YgYW5kIHByb3ZpZGUgYSBzY29yZSBmcm9tIDAtMTAwLlxuXG5Bc3Nlc3NtZW50IENyaXRlcmlhIGZvciAke21ldHJpY306XG4ke3J1YnJpYy5jcml0ZXJpYS5tYXAoYyA9PiBgLSAke2N9YCkuam9pbignXFxuJyl9XG5cblJlbGV2YW50IEtleXdvcmRzOiAke3J1YnJpYy5rZXl3b3Jkcy5qb2luKCcsICcpfVxuXG5DViBDb250ZW50OlxuJHtjbGVhbkNvbnRlbnR9XG5cbkNhbmRpZGF0ZSBCYWNrZ3JvdW5kOlxuLSBFeHBlcmllbmNlOiAke2NhbmRpZGF0ZUluZm8uZXhwZXJpZW5jZX1cbi0gRWR1Y2F0aW9uOiAke2NhbmRpZGF0ZUluZm8uZWR1Y2F0aW9ufVxuLSBTa2lsbHM6ICR7Y2FuZGlkYXRlSW5mby5za2lsbHN9XG4tIEFjdGl2aXRpZXM6ICR7Y2FuZGlkYXRlSW5mby5hY3Rpdml0aWVzLmpvaW4oJywgJyl9XG5cblByb3ZpZGUgYSBkZXRhaWxlZCBhbmFseXNpcyBhbmQgdGhlbiBnaXZlIGEgc2NvcmUgZnJvbSAwLTEwMC4gRm9ybWF0IHlvdXIgcmVzcG9uc2UgYXM6XG5BbmFseXNpczogW1lvdXIgZGV0YWlsZWQgYW5hbHlzaXNdXG5TY29yZTogW051bWJlciBiZXR3ZWVuIDAtMTAwXWBcblxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNhbGxNaXN0cmFsQVBJKHByb21wdCk7XG4gIFxuICBjb25zdCBzY29yZU1hdGNoID0gcmVzcG9uc2UubWF0Y2goL1Njb3JlOlxccyooXFxkKykvaSlcbiAgaWYgKHNjb3JlTWF0Y2gpIHtcbiAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oMTAwLCBwYXJzZUludChzY29yZU1hdGNoWzFdKSkpXG4gIH1cbiAgXG4gIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGV4dHJhY3Qgc2NvcmUgZnJvbSBBSSByZXNwb25zZSBmb3IgJHttZXRyaWN9YCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlSFJTdHlsZUFuYWx5c2lzKHNjb3JlczogQXJyYXk8eyBtZXRyaWM6IHN0cmluZzsgc2NvcmU6IG51bWJlciB9PiwgYXZlcmFnZVNjb3JlOiBudW1iZXIsIGNhbmRpZGF0ZUluZm86IGFueSk6IFByb21pc2U8c3RyaW5nPiB7XG4gIGNvbnN0IHRvcE1ldHJpYyA9IHNjb3Jlcy5yZWR1Y2UoKG1heCwgY3VycmVudCkgPT4gKGN1cnJlbnQuc2NvcmUgPiBtYXguc2NvcmUgPyBjdXJyZW50IDogbWF4KSlcbiAgY29uc3QgYm90dG9tTWV0cmljID0gc2NvcmVzLnJlZHVjZSgobWluLCBjdXJyZW50KSA9PiAoY3VycmVudC5zY29yZSA8IG1pbi5zY29yZSA/IGN1cnJlbnQgOiBtaW4pKVxuICBcbiAgY29uc3QgcHJvbXB0ID0gYFdyaXRlIGEgcHJvZmVzc2lvbmFsIEhSLXN0eWxlIGFuYWx5c2lzIG9mIHRoaXMgY2FuZGlkYXRlIGJhc2VkIG9uIHRoZWlyIENWIGFzc2Vzc21lbnQuXG5cbkNhbmRpZGF0ZSBQcm9maWxlOlxuLSBOYW1lOiAke2NhbmRpZGF0ZUluZm8ubmFtZX1cbi0gRXhwZXJpZW5jZTogJHtjYW5kaWRhdGVJbmZvLmV4cGVyaWVuY2V9XG4tIEVkdWNhdGlvbjogJHtjYW5kaWRhdGVJbmZvLmVkdWNhdGlvbn1cbi0gU2tpbGxzOiAke2NhbmRpZGF0ZUluZm8uc2tpbGxzfVxuLSBBY3Rpdml0aWVzOiAke2NhbmRpZGF0ZUluZm8uYWN0aXZpdGllcy5qb2luKCcsICcpfVxuXG5Bc3Nlc3NtZW50IFJlc3VsdHM6XG4tIE92ZXJhbGwgQXZlcmFnZSBTY29yZTogJHthdmVyYWdlU2NvcmV9LzEwMFxuLSBUb3AgU3RyZW5ndGg6ICR7dG9wTWV0cmljLm1ldHJpY30gKCR7dG9wTWV0cmljLnNjb3JlfS8xMDApXG4tIERldmVsb3BtZW50IEFyZWE6ICR7Ym90dG9tTWV0cmljLm1ldHJpY30gKCR7Ym90dG9tTWV0cmljLnNjb3JlfS8xMDApXG5cbkluZGl2aWR1YWwgU2NvcmVzOlxuJHtzY29yZXMubWFwKHMgPT4gYC0gJHtzLm1ldHJpY306ICR7cy5zY29yZX0vMTAwYCkuam9pbignXFxuJyl9XG5cbldyaXRlIGEgZm9ybWFsLCBwcm9mZXNzaW9uYWwgYW5hbHlzaXMgc3VpdGFibGUgZm9yIEhSIGRvY3VtZW50YXRpb24uIEluY2x1ZGU6XG4xLiBPdmVyYWxsIHBlcmZvcm1hbmNlIGFzc2Vzc21lbnRcbjIuIEtleSBzdHJlbmd0aHMgYW5kIHRoZWlyIGJ1c2luZXNzIHZhbHVlXG4zLiBBcmVhcyBmb3IgZGV2ZWxvcG1lbnRcbjQuIEN1bHR1cmFsIGZpdCBjb25zaWRlcmF0aW9uc1xuNS4gRmluYWwgcmVjb21tZW5kYXRpb25cblxuVXNlIGZvcm1hbCBIUiBsYW5ndWFnZSBhbmQgbWFpbnRhaW4gYSBwcm9mZXNzaW9uYWwgdG9uZSB0aHJvdWdob3V0LmBcblxuICByZXR1cm4gYXdhaXQgY2FsbE1pc3RyYWxBUEkocHJvbXB0KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gYW5hbHl6ZUNWKGZpbGVOYW1lOiBzdHJpbmcsIGZpbGVDb250ZW50OiBzdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICAvLyBWYWxpZGF0ZSBhbmQgY2xlYW4gZmlsZSBjb250ZW50XG4gICAgaWYgKCFmaWxlQ29udGVudCB8fCB0eXBlb2YgZmlsZUNvbnRlbnQgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZmlsZSBjb250ZW50IHByb3ZpZGVkJyk7XG4gICAgfVxuICAgIFxuICAgIC8vIENsZWFuIHRoZSBjb250ZW50IGJ5IHJlbW92aW5nIGV4Y2Vzc2l2ZSB3aGl0ZXNwYWNlIGFuZCBub3JtYWxpemluZ1xuICAgIGNvbnN0IGNsZWFuQ29udGVudCA9IGZpbGVDb250ZW50XG4gICAgICAudHJpbSgpXG4gICAgICAucmVwbGFjZSgvXFxzKy9nLCAnICcpXG4gICAgICAucmVwbGFjZSgvXFxuKy9nLCAnICcpXG4gICAgICAuc3Vic3RyaW5nKDAsIDEwMDAwKTsgLy8gTGltaXQgY29udGVudCBsZW5ndGggdG8gYXZvaWQgQVBJIGxpbWl0c1xuICAgIFxuICAgIGlmIChjbGVhbkNvbnRlbnQubGVuZ3RoIDwgMTApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmlsZSBjb250ZW50IGlzIHRvbyBzaG9ydCB0byBhbmFseXplJyk7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKGBBbmFseXppbmcgQ1Y6ICR7ZmlsZU5hbWV9ICgke2NsZWFuQ29udGVudC5sZW5ndGh9IGNoYXJhY3RlcnMpYCk7XG4gICAgXG4gICAgY29uc3QgY2FuZGlkYXRlSW5mbyA9IGF3YWl0IGV4dHJhY3RDYW5kaWRhdGVJbmZvKGNsZWFuQ29udGVudClcbiAgICBcbiAgICBjb25zdCBzY29yZXMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIE9iamVjdC5rZXlzKFNDT1JJTkdfUlVCUklDUykubWFwKGFzeW5jIChtZXRyaWMpID0+ICh7XG4gICAgICAgIG1ldHJpYyxcbiAgICAgICAgc2NvcmU6IGF3YWl0IGFuYWx5emVNZXRyaWMobWV0cmljLCBjbGVhbkNvbnRlbnQsIGNhbmRpZGF0ZUluZm8pXG4gICAgICB9KSlcbiAgICApXG5cbiAgICBjb25zdCBhdmVyYWdlU2NvcmUgPSBNYXRoLnJvdW5kKHNjb3Jlcy5yZWR1Y2UoKHN1bSwgcykgPT4gc3VtICsgcy5zY29yZSwgMCkgLyBzY29yZXMubGVuZ3RoKVxuICAgIFxuICAgIGNvbnN0IGFuYWx5c2lzID0gYXdhaXQgZ2VuZXJhdGVIUlN0eWxlQW5hbHlzaXMoc2NvcmVzLCBhdmVyYWdlU2NvcmUsIGNhbmRpZGF0ZUluZm8pXG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IERhdGUubm93KCksXG4gICAgICBmaWxlTmFtZTogZmlsZU5hbWUucmVwbGFjZSgvXFwuW14vLl0rJC8sIFwiXCIpLFxuICAgICAgY2FuZGlkYXRlTmFtZTogY2FuZGlkYXRlSW5mby5uYW1lLFxuICAgICAgdXBsb2FkRGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgc2NvcmVzLFxuICAgICAgYXZlcmFnZVNjb3JlLFxuICAgICAgYW5hbHlzaXMsXG4gICAgICBwcm9maWxlOiBjYW5kaWRhdGVJbmZvXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0NWIEFuYWx5c2lzIGZhaWxlZDonLCBlcnJvcilcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBhbmFseXplIENWLiBQbGVhc2UgdHJ5IGFnYWluLicpXG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogUmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBjb25zdCB7IGZpbGVOYW1lLCBmaWxlQ29udGVudCB9ID0gYm9keTtcblxuICAgIC8vIFZhbGlkYXRlIHJlcXVpcmVkIGZpZWxkc1xuICAgIGlmICghZmlsZU5hbWUgfHwgIWZpbGVDb250ZW50KSB7XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgICAgICBKU09OLnN0cmluZ2lmeSh7IFxuICAgICAgICAgIGVycm9yOiAnRmlsZSBuYW1lIGFuZCBjb250ZW50IGFyZSByZXF1aXJlZCcsXG4gICAgICAgICAgcmVjZWl2ZWQ6IHsgXG4gICAgICAgICAgICBoYXNGaWxlTmFtZTogISFmaWxlTmFtZSwgXG4gICAgICAgICAgICBoYXNGaWxlQ29udGVudDogISFmaWxlQ29udGVudCxcbiAgICAgICAgICAgIGZpbGVDb250ZW50VHlwZTogdHlwZW9mIGZpbGVDb250ZW50IFxuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIHsgXG4gICAgICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vIEVuc3VyZSBmaWxlQ29udGVudCBpcyBhIHN0cmluZ1xuICAgIGlmICh0eXBlb2YgZmlsZUNvbnRlbnQgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgICAgICBKU09OLnN0cmluZ2lmeSh7IFxuICAgICAgICAgIGVycm9yOiAnRmlsZSBjb250ZW50IG11c3QgYmUgYSBzdHJpbmcnLFxuICAgICAgICAgIHJlY2VpdmVkVHlwZTogdHlwZW9mIGZpbGVDb250ZW50XG4gICAgICAgIH0pLFxuICAgICAgICB7IFxuICAgICAgICAgIHN0YXR1czogNDAwLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhgUHJvY2Vzc2luZyBDViBhbmFseXNpcyBmb3I6ICR7ZmlsZU5hbWV9YCk7XG4gICAgY29uc3QgYW5hbHlzaXMgPSBhd2FpdCBhbmFseXplQ1YoZmlsZU5hbWUsIGZpbGVDb250ZW50KTtcblxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXG4gICAgICBKU09OLnN0cmluZ2lmeShhbmFseXNpcyksXG4gICAgICB7IFxuICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cbiAgICAgIH1cbiAgICApXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdDViBBbmFseXNpcyBBUEkgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7IFxuICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBhbmFseXplIENWLiBQbGVhc2UgdHJ5IGFnYWluLicsXG4gICAgICAgIGRldGFpbHM6IGVycm9yLm1lc3NhZ2UgXG4gICAgICB9KSxcbiAgICAgIHsgXG4gICAgICAgIHN0YXR1czogNTAwLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxuICAgICAgfVxuICAgIClcbiAgfVxufSAiXSwibmFtZXMiOlsiTWlzdHJhbCIsIlNDT1JJTkdfUlVCUklDUyIsImNyaXRlcmlhIiwia2V5d29yZHMiLCJ3ZWlnaHQiLCJtaXN0cmFsQ2xpZW50IiwiZ2V0TWlzdHJhbENsaWVudCIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJNSVNUUkFMX0FQSV9LRVkiLCJNSVNUUkFMX0tFWSIsIkVycm9yIiwiY29uc29sZSIsImxvZyIsInN1YnN0cmluZyIsImNhbGxNaXN0cmFsQVBJIiwicHJvbXB0IiwicmV0cmllcyIsImNsaWVudCIsImF0dGVtcHQiLCJjaGF0UmVzcG9uc2UiLCJjaGF0IiwiY29tcGxldGUiLCJtb2RlbCIsIm1lc3NhZ2VzIiwicm9sZSIsImNvbnRlbnQiLCJ0ZW1wZXJhdHVyZSIsIm1heFRva2VucyIsImNob2ljZXMiLCJtZXNzYWdlIiwidHlwZSIsInRleHQiLCJlcnJvciIsImluY2x1ZGVzIiwid2FpdFRpbWUiLCJNYXRoIiwicG93IiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiZXh0cmFjdENhbmRpZGF0ZUluZm8iLCJmaWxlQ29udGVudCIsImNsZWFuQ29udGVudCIsInRyaW0iLCJyZXBsYWNlIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlc3BvbnNlIiwicGFyc2VkIiwicGFyc2UiLCJuYW1lIiwiZXhwZXJpZW5jZSIsImVkdWNhdGlvbiIsInNraWxscyIsImFjdGl2aXRpZXMiLCJBcnJheSIsImlzQXJyYXkiLCJ5ZWFyc0V4cGVyaWVuY2UiLCJwYXJzZUludCIsImFuYWx5emVNZXRyaWMiLCJtZXRyaWMiLCJjYW5kaWRhdGVJbmZvIiwicnVicmljIiwibWFwIiwiYyIsImpvaW4iLCJzY29yZU1hdGNoIiwibWF0Y2giLCJtYXgiLCJtaW4iLCJnZW5lcmF0ZUhSU3R5bGVBbmFseXNpcyIsInNjb3JlcyIsImF2ZXJhZ2VTY29yZSIsInRvcE1ldHJpYyIsInJlZHVjZSIsImN1cnJlbnQiLCJzY29yZSIsImJvdHRvbU1ldHJpYyIsInMiLCJhbmFseXplQ1YiLCJmaWxlTmFtZSIsImxlbmd0aCIsImFsbCIsIk9iamVjdCIsImtleXMiLCJyb3VuZCIsInN1bSIsImFuYWx5c2lzIiwiaWQiLCJEYXRlIiwibm93IiwiY2FuZGlkYXRlTmFtZSIsInVwbG9hZERhdGUiLCJ0b0lTT1N0cmluZyIsInByb2ZpbGUiLCJQT1NUIiwicmVxdWVzdCIsImJvZHkiLCJqc29uIiwiUmVzcG9uc2UiLCJyZWNlaXZlZCIsImhhc0ZpbGVOYW1lIiwiaGFzRmlsZUNvbnRlbnQiLCJmaWxlQ29udGVudFR5cGUiLCJzdGF0dXMiLCJoZWFkZXJzIiwicmVjZWl2ZWRUeXBlIiwiZGV0YWlscyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/analyze-cv/route.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.2.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fanalyze-cv%2Froute&page=%2Fapi%2Fanalyze-cv%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze-cv%2Froute.ts&appDir=%2FUsers%2Fsimongonzalez%2FCursor_projects%2Fgiselle%2FGiselle%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsimongonzalez%2FCursor_projects%2Fgiselle%2FGiselle&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fanalyze-cv%2Froute&page=%2Fapi%2Fanalyze-cv%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze-cv%2Froute.ts&appDir=%2FUsers%2Fsimongonzalez%2FCursor_projects%2Fgiselle%2FGiselle%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsimongonzalez%2FCursor_projects%2Fgiselle%2FGiselle&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_simongonzalez_Cursor_projects_giselle_Giselle_app_api_analyze_cv_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/analyze-cv/route.ts */ \"(rsc)/./app/api/analyze-cv/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/analyze-cv/route\",\n        pathname: \"/api/analyze-cv\",\n        filename: \"route\",\n        bundlePath: \"app/api/analyze-cv/route\"\n    },\n    resolvedPagePath: \"/Users/simongonzalez/Cursor_projects/giselle/Giselle/app/api/analyze-cv/route.ts\",\n    nextConfigOutput,\n    userland: _Users_simongonzalez_Cursor_projects_giselle_Giselle_app_api_analyze_cv_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfcmVhY3QtZG9tQDE5LjEuMF9yZWFjdEAxOS4xLjBfX3JlYWN0QDE5LjEuMC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhbmFseXplLWN2JTJGcm91dGUmcGFnZT0lMkZhcGklMkZhbmFseXplLWN2JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYW5hbHl6ZS1jdiUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnNpbW9uZ29uemFsZXolMkZDdXJzb3JfcHJvamVjdHMlMkZnaXNlbGxlJTJGR2lzZWxsZSUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZzaW1vbmdvbnphbGV6JTJGQ3Vyc29yX3Byb2plY3RzJTJGZ2lzZWxsZSUyRkdpc2VsbGUmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ2dDO0FBQzdHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzBGOztBQUUxRiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvc2ltb25nb256YWxlei9DdXJzb3JfcHJvamVjdHMvZ2lzZWxsZS9HaXNlbGxlL2FwcC9hcGkvYW5hbHl6ZS1jdi9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYW5hbHl6ZS1jdi9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2FuYWx5emUtY3ZcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2FuYWx5emUtY3Yvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvc2ltb25nb256YWxlei9DdXJzb3JfcHJvamVjdHMvZ2lzZWxsZS9HaXNlbGxlL2FwcC9hcGkvYW5hbHl6ZS1jdi9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@15.2.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fanalyze-cv%2Froute&page=%2Fapi%2Fanalyze-cv%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze-cv%2Froute.ts&appDir=%2FUsers%2Fsimongonzalez%2FCursor_projects%2Fgiselle%2FGiselle%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsimongonzalez%2FCursor_projects%2Fgiselle%2FGiselle&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.2.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*********************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/next@15.2.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*********************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@15.2.4_react-dom@19.1.0_react@19.1.0__react@19.1.0","vendor-chunks/@mistralai+mistralai@1.7.2_zod@3.25.67","vendor-chunks/zod-to-json-schema@3.24.5_zod@3.25.67","vendor-chunks/zod@3.25.67"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@15.2.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fanalyze-cv%2Froute&page=%2Fapi%2Fanalyze-cv%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze-cv%2Froute.ts&appDir=%2FUsers%2Fsimongonzalez%2FCursor_projects%2Fgiselle%2FGiselle%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsimongonzalez%2FCursor_projects%2Fgiselle%2FGiselle&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();